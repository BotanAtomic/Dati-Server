#include "server.h"
#include "shell.h"
#include "database.h"
#include "scheduler.h"

#define VERSION "0.29.4"

int main() {
    setColor(CYAN);
    println("      ___           ___           ___           ___           ___           ___     \n"
            "     /\\  \\         /\\  \\         /\\  \\         /\\__\\         /\\  \\         /\\__\\    \n"
            "    /::\\  \\       /::\\  \\        \\:\\  \\       /:/  /        /::\\  \\       /:/  /    \n"
            "   /:/\\:\\  \\     /:/\\:\\  \\        \\:\\  \\     /:/  /        /:/\\:\\  \\     /:/__/     \n"
            "  /:/  \\:\\__\\   /::\\~\\:\\  \\       /::\\  \\   /:/  /  ___   /::\\~\\:\\  \\   /::\\__\\____ \n"
            " /:/__/ \\:|__| /:/\\:\\ \\:\\__\\     /:/\\:\\__\\ /:/__/  /\\__\\ /:/\\:\\ \\:\\__\\ /:/\\:::::\\__\\\n"
            " \\:\\  \\ /:/  / \\/__\\:\\/:/  /    /:/  \\/__/ \\:\\  \\ /:/  / \\/__\\:\\/:/  / \\/_|:|~~|~   \n"
            "  \\:\\  /:/  /       \\::/  /    /:/  /       \\:\\  /:/  /       \\::/  /     |:|  |    \n"
            "   \\:\\/:/  /        /:/  /    /:/  /         \\:\\/:/  /        /:/  /      |:|  |    \n"
            "    \\::/__/        /:/  /    /:/  /           \\::/  /        /:/  /       |:|  |    \n"
            "     ~~            \\/__/     \\/__/             \\/__/         \\/__/         \\|__|    \n");

    println("Version : %s\n", VERSION);

    loadConfiguration();
    loadDatabases();
    startTimer(flushTime);
    bindServer();

    return 0;
}